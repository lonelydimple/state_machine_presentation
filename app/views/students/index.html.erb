<h1>Listing students</h1>

<p id="notice"><%= notice %></p>
<table>
  <tr>
    <th>First Name</th>
    <th>Last Name</th>
    <th>Registration Date</th>
    <th>GPA</th>
    <th>State</th>
    <th>Actions</th>
  </tr>

<% @students.each do |student| %>
  <tr>
    <td><%= student.first_name %></td>
    <td><%= student.last_name %></td>
    <td><%= student.registration_date %></td>
    <td><%= student.gpa %></td>
    <td><%= student.human_state_name.titleize %></td>
    <td align="center" width="400">
      <%= link_to 'Show', student %> |
      <%= link_to 'Edit', edit_student_path(student) %> |
      <%= link_to 'Destroy', student, :confirm => 'Are you sure?', :method => :delete %> |
      <br/>
      <%= link_to_if student.can_register?, "Register", register_student_path(student), :method => :put %> |
      <%= link_to_if student.can_suspend?, 'Suspend', new_suspend_student_path(student) %> |
      <%= link_to_if student.can_enroll?, 'Enroll', enroll_student_path(student), :method => :put %> |
      <%= link_to_if student.can_graduate?, 'Graduate', graduate_student_path(student), :method => :put %>
    </td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Student', new_student_path %>
